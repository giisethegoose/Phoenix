["f3c6668985da8899d3cfc9a33094825d8a9ab089","e4a0e5e9484ae18cd83993cd009bfa5d88ffacfb",["lodash/assign","lodash/difference"],[143,237],{"version":3,"sources":["/home/giise/candidtwo/node_modules/react-proxy/modules/createPrototypeProxy.js"],"names":["Object","defineProperty","exports","value","default","createPrototypeProxy","_assign","require","_assign2","_interopRequireDefault","_difference","_difference2","obj","__esModule","proxy","current","mountedInstances","proxyToString","name","toString","proxyMethod","proxiedMethod","apply","arguments","proxiedComponentDidMount","push","componentDidMount","proxiedComponentWillUnmount","index","indexOf","splice","componentWillUnmount","defineProxyProperty","descriptor","defineProxyPropertyWithValue","_ref","getOwnPropertyDescriptor","_ref$enumerable","enumerable","undefined","_ref$writable","writable","configurable","createAutoBindMap","__reactAutoBindMap","hasOwnProperty","createAutoBindPairs","__reactAutoBindPairs","i","length","method","update","next","currentNames","getOwnPropertyNames","previousName","removedNames","forEach","__proto__","get"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createPrototypeProxy;\n\nvar _assign = require('lodash/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _difference = require('lodash/difference');\n\nvar _difference2 = _interopRequireDefault(_difference);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createPrototypeProxy() {\n  var proxy = {};\n  var current = null;\n  var mountedInstances = [];\n\n  /**\n   * Creates a proxied toString() method pointing to the current version's toString().\n   */\n  function proxyToString(name) {\n    // Wrap to always call the current version\n    return function toString() {\n      if (typeof current[name] === 'function') {\n        return current[name].toString();\n      } else {\n        return '<method was deleted>';\n      }\n    };\n  }\n\n  /**\n   * Creates a proxied method that calls the current version, whenever available.\n   */\n  function proxyMethod(name) {\n    // Wrap to always call the current version\n    var proxiedMethod = function proxiedMethod() {\n      if (typeof current[name] === 'function') {\n        return current[name].apply(this, arguments);\n      }\n    };\n\n    // Copy properties of the original function, if any\n    (0, _assign2.default)(proxiedMethod, current[name]);\n    proxiedMethod.toString = proxyToString(name);\n\n    return proxiedMethod;\n  }\n\n  /**\n   * Augments the original componentDidMount with instance tracking.\n   */\n  function proxiedComponentDidMount() {\n    mountedInstances.push(this);\n    if (typeof current.componentDidMount === 'function') {\n      return current.componentDidMount.apply(this, arguments);\n    }\n  }\n  proxiedComponentDidMount.toString = proxyToString('componentDidMount');\n\n  /**\n   * Augments the original componentWillUnmount with instance tracking.\n   */\n  function proxiedComponentWillUnmount() {\n    var index = mountedInstances.indexOf(this);\n    // Unless we're in a weird environment without componentDidMount\n    if (index !== -1) {\n      mountedInstances.splice(index, 1);\n    }\n    if (typeof current.componentWillUnmount === 'function') {\n      return current.componentWillUnmount.apply(this, arguments);\n    }\n  }\n  proxiedComponentWillUnmount.toString = proxyToString('componentWillUnmount');\n\n  /**\n   * Defines a property on the proxy.\n   */\n  function defineProxyProperty(name, descriptor) {\n    Object.defineProperty(proxy, name, descriptor);\n  }\n\n  /**\n   * Defines a property, attempting to keep the original descriptor configuration.\n   */\n  function defineProxyPropertyWithValue(name, value) {\n    var _ref = Object.getOwnPropertyDescriptor(current, name) || {};\n\n    var _ref$enumerable = _ref.enumerable;\n    var enumerable = _ref$enumerable === undefined ? false : _ref$enumerable;\n    var _ref$writable = _ref.writable;\n    var writable = _ref$writable === undefined ? true : _ref$writable;\n\n\n    defineProxyProperty(name, {\n      configurable: true,\n      enumerable: enumerable,\n      writable: writable,\n      value: value\n    });\n  }\n\n  /**\n   * Creates an auto-bind map mimicking the original map, but directed at proxy.\n   */\n  function createAutoBindMap() {\n    if (!current.__reactAutoBindMap) {\n      return;\n    }\n\n    var __reactAutoBindMap = {};\n    for (var name in current.__reactAutoBindMap) {\n      if (typeof proxy[name] === 'function' && current.__reactAutoBindMap.hasOwnProperty(name)) {\n        __reactAutoBindMap[name] = proxy[name];\n      }\n    }\n\n    return __reactAutoBindMap;\n  }\n\n  /**\n   * Creates an auto-bind map mimicking the original map, but directed at proxy.\n   */\n  function createAutoBindPairs() {\n    var __reactAutoBindPairs = [];\n\n    for (var i = 0; i < current.__reactAutoBindPairs.length; i += 2) {\n      var name = current.__reactAutoBindPairs[i];\n      var method = proxy[name];\n\n      if (typeof method === 'function') {\n        __reactAutoBindPairs.push(name, method);\n      }\n    }\n\n    return __reactAutoBindPairs;\n  }\n\n  /**\n   * Applies the updated prototype.\n   */\n  function update(next) {\n    // Save current source of truth\n    current = next;\n\n    // Find changed property names\n    var currentNames = Object.getOwnPropertyNames(current);\n    var previousName = Object.getOwnPropertyNames(proxy);\n    var removedNames = (0, _difference2.default)(previousName, currentNames);\n\n    // Remove properties and methods that are no longer there\n    removedNames.forEach(function (name) {\n      delete proxy[name];\n    });\n\n    // Copy every descriptor\n    currentNames.forEach(function (name) {\n      var descriptor = Object.getOwnPropertyDescriptor(current, name);\n      if (typeof descriptor.value === 'function') {\n        // Functions require additional wrapping so they can be bound later\n        defineProxyPropertyWithValue(name, proxyMethod(name));\n      } else {\n        // Other values can be copied directly\n        defineProxyProperty(name, descriptor);\n      }\n    });\n\n    // Track mounting and unmounting\n    defineProxyPropertyWithValue('componentDidMount', proxiedComponentDidMount);\n    defineProxyPropertyWithValue('componentWillUnmount', proxiedComponentWillUnmount);\n\n    if (current.hasOwnProperty('__reactAutoBindMap')) {\n      defineProxyPropertyWithValue('__reactAutoBindMap', createAutoBindMap());\n    }\n\n    if (current.hasOwnProperty('__reactAutoBindPairs')) {\n      defineProxyPropertyWithValue('__reactAutoBindPairs', createAutoBindPairs());\n    }\n\n    // Set up the prototype chain\n    proxy.__proto__ = next;\n\n    return mountedInstances;\n  }\n\n  /**\n   * Returns the up-to-date proxy prototype.\n   */\n  function get() {\n    return proxy;\n  }\n\n  return {\n    update: update,\n    get: get\n  };\n};"]}]