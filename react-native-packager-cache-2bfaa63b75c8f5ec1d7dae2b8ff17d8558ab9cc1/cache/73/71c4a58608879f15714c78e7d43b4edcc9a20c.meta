["4db87b8f941c8bbcf40a77ddf8aa087da27cd767","20df594d7139a07ea193e105de309e2ae981e339",["./Index","../../util/util","../Node","../LeafNode"],[639,672,713,750],{"version":3,"sources":["/home/giise/candidtwo/node_modules/@firebase/database/dist/cjs/src/core/snap/indexes/PriorityIndex.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","Index_1","require","util_1","Node_1","LeafNode_1","nodeFromJSON","MAX_NODE","setNodeFromJSON","val","setMaxNode","PriorityIndex","_super","apply","arguments","compare","a","aPriority","node","getPriority","bPriority","indexCmp","compareTo","nameCompare","name","isDefinedOn","isEmpty","indexedValueChanged","oldNode","newNode","equals","minPost","NamedNode","MIN","maxPost","MAX_NAME","LeafNode","makePost","indexValue","priorityNode","toString","Index","PRIORITY_INDEX"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Index_1 = require(\"./Index\");\nvar util_1 = require(\"../../util/util\");\nvar Node_1 = require(\"../Node\");\nvar LeafNode_1 = require(\"../LeafNode\");\nvar nodeFromJSON;\nvar MAX_NODE;\nfunction setNodeFromJSON(val) {\n    nodeFromJSON = val;\n}\nexports.setNodeFromJSON = setNodeFromJSON;\nfunction setMaxNode(val) {\n    MAX_NODE = val;\n}\nexports.setMaxNode = setMaxNode;\n/**\n * @constructor\n * @extends {Index}\n * @private\n */\nvar PriorityIndex = /** @class */ (function (_super) {\n    __extends(PriorityIndex, _super);\n    function PriorityIndex() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @inheritDoc\n     */\n    PriorityIndex.prototype.compare = function (a, b) {\n        var aPriority = a.node.getPriority();\n        var bPriority = b.node.getPriority();\n        var indexCmp = aPriority.compareTo(bPriority);\n        if (indexCmp === 0) {\n            return util_1.nameCompare(a.name, b.name);\n        }\n        else {\n            return indexCmp;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    PriorityIndex.prototype.isDefinedOn = function (node) {\n        return !node.getPriority().isEmpty();\n    };\n    /**\n     * @inheritDoc\n     */\n    PriorityIndex.prototype.indexedValueChanged = function (oldNode, newNode) {\n        return !oldNode.getPriority().equals(newNode.getPriority());\n    };\n    /**\n     * @inheritDoc\n     */\n    PriorityIndex.prototype.minPost = function () {\n        return Node_1.NamedNode.MIN;\n    };\n    /**\n     * @inheritDoc\n     */\n    PriorityIndex.prototype.maxPost = function () {\n        return new Node_1.NamedNode(util_1.MAX_NAME, new LeafNode_1.LeafNode('[PRIORITY-POST]', MAX_NODE));\n    };\n    /**\n     * @param {*} indexValue\n     * @param {string} name\n     * @return {!NamedNode}\n     */\n    PriorityIndex.prototype.makePost = function (indexValue, name) {\n        var priorityNode = nodeFromJSON(indexValue);\n        return new Node_1.NamedNode(name, new LeafNode_1.LeafNode('[PRIORITY-POST]', priorityNode));\n    };\n    /**\n     * @return {!string} String representation for inclusion in a query spec\n     */\n    PriorityIndex.prototype.toString = function () {\n        return '.priority';\n    };\n    return PriorityIndex;\n}(Index_1.Index));\nexports.PriorityIndex = PriorityIndex;\nexports.PRIORITY_INDEX = new PriorityIndex();\n\n//# sourceMappingURL=PriorityIndex.js.map\n"]}]