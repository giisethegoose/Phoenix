["2b8e40d33c3e6107d7500141165619311f01e87a","c50ac2d3091e27a5982b25e6deff3031ea170bf1",["../snap/ChildrenNode","./CacheNode"],[107,158],{"version":3,"sources":["/home/giise/candidtwo/node_modules/@firebase/database/dist/cjs/src/core/view/ViewCache.js"],"names":["Object","defineProperty","exports","value","ChildrenNode_1","require","CacheNode_1","ViewCache","eventCache_","serverCache_","prototype","updateEventSnap","eventSnap","complete","filtered","CacheNode","updateServerSnap","serverSnap","getEventCache","getCompleteEventSnap","isFullyInitialized","getNode","getServerCache","getCompleteServerSnap","Empty","ChildrenNode","EMPTY_NODE"],"mappings":"AAAA;;AAgBAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAIC,iBAAiBC,QAAQ,sBAAR,CAArB;AACA,IAAIC,cAAcD,QAAQ,aAAR,CAAlB;;AAQA,IAAIE,YAA2B,YAAY;AAMvC,WAASA,SAAT,CAAmBC,WAAnB,EAAgCC,YAAhC,EAA8C;AAC1C,SAAKD,WAAL,GAAmBA,WAAnB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACH;;AAODF,YAAUG,SAAV,CAAoBC,eAApB,GAAsC,UAAUC,SAAV,EAAqBC,QAArB,EAA+BC,QAA/B,EAAyC;AAC3E,WAAO,IAAIP,SAAJ,CAAc,IAAID,YAAYS,SAAhB,CAA0BH,SAA1B,EAAqCC,QAArC,EAA+CC,QAA/C,CAAd,EAAwE,KAAKL,YAA7E,CAAP;AACH,GAFD;;AASAF,YAAUG,SAAV,CAAoBM,gBAApB,GAAuC,UAAUC,UAAV,EAAsBJ,QAAtB,EAAgCC,QAAhC,EAA0C;AAC7E,WAAO,IAAIP,SAAJ,CAAc,KAAKC,WAAnB,EAAgC,IAAIF,YAAYS,SAAhB,CAA0BE,UAA1B,EAAsCJ,QAAtC,EAAgDC,QAAhD,CAAhC,CAAP;AACH,GAFD;;AAMAP,YAAUG,SAAV,CAAoBQ,aAApB,GAAoC,YAAY;AAC5C,WAAO,KAAKV,WAAZ;AACH,GAFD;;AAMAD,YAAUG,SAAV,CAAoBS,oBAApB,GAA2C,YAAY;AACnD,WAAO,KAAKX,WAAL,CAAiBY,kBAAjB,KACD,KAAKZ,WAAL,CAAiBa,OAAjB,EADC,GAED,IAFN;AAGH,GAJD;;AAQAd,YAAUG,SAAV,CAAoBY,cAApB,GAAqC,YAAY;AAC7C,WAAO,KAAKb,YAAZ;AACH,GAFD;;AAMAF,YAAUG,SAAV,CAAoBa,qBAApB,GAA4C,YAAY;AACpD,WAAO,KAAKd,YAAL,CAAkBW,kBAAlB,KACD,KAAKX,YAAL,CAAkBY,OAAlB,EADC,GAED,IAFN;AAGH,GAJD;;AASAd,YAAUiB,KAAV,GAAkB,IAAIjB,SAAJ,CAAc,IAAID,YAAYS,SAAhB,CAA0BX,eAAeqB,YAAf,CAA4BC,UAAtD,EACV,KADU,EAElB,KAFkB,CAAd,EAEI,IAAIpB,YAAYS,SAAhB,CAA0BX,eAAeqB,YAAf,CAA4BC,UAAtD,EACA,KADA,EAER,KAFQ,CAFJ,CAAlB;AAKA,SAAOnB,SAAP;AACH,CAlE8B,EAA/B;AAmEAL,QAAQK,SAAR,GAAoBA,SAApB","sourcesContent":["\"use strict\";\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ChildrenNode_1 = require(\"../snap/ChildrenNode\");\nvar CacheNode_1 = require(\"./CacheNode\");\n/**\n * Stores the data we have cached for a view.\n *\n * serverSnap is the cached server data, eventSnap is the cached event data (server data plus any local writes).\n *\n * @constructor\n */\nvar ViewCache = /** @class */ (function () {\n    /**\n     *\n     * @param {!CacheNode} eventCache_\n     * @param {!CacheNode} serverCache_\n     */\n    function ViewCache(eventCache_, serverCache_) {\n        this.eventCache_ = eventCache_;\n        this.serverCache_ = serverCache_;\n    }\n    /**\n     * @param {!Node} eventSnap\n     * @param {boolean} complete\n     * @param {boolean} filtered\n     * @return {!ViewCache}\n     */\n    ViewCache.prototype.updateEventSnap = function (eventSnap, complete, filtered) {\n        return new ViewCache(new CacheNode_1.CacheNode(eventSnap, complete, filtered), this.serverCache_);\n    };\n    /**\n     * @param {!Node} serverSnap\n     * @param {boolean} complete\n     * @param {boolean} filtered\n     * @return {!ViewCache}\n     */\n    ViewCache.prototype.updateServerSnap = function (serverSnap, complete, filtered) {\n        return new ViewCache(this.eventCache_, new CacheNode_1.CacheNode(serverSnap, complete, filtered));\n    };\n    /**\n     * @return {!CacheNode}\n     */\n    ViewCache.prototype.getEventCache = function () {\n        return this.eventCache_;\n    };\n    /**\n     * @return {?Node}\n     */\n    ViewCache.prototype.getCompleteEventSnap = function () {\n        return this.eventCache_.isFullyInitialized()\n            ? this.eventCache_.getNode()\n            : null;\n    };\n    /**\n     * @return {!CacheNode}\n     */\n    ViewCache.prototype.getServerCache = function () {\n        return this.serverCache_;\n    };\n    /**\n     * @return {?Node}\n     */\n    ViewCache.prototype.getCompleteServerSnap = function () {\n        return this.serverCache_.isFullyInitialized()\n            ? this.serverCache_.getNode()\n            : null;\n    };\n    /**\n     * @const\n     * @type {ViewCache}\n     */\n    ViewCache.Empty = new ViewCache(new CacheNode_1.CacheNode(ChildrenNode_1.ChildrenNode.EMPTY_NODE, \n    /*fullyInitialized=*/ false, \n    /*filtered=*/ false), new CacheNode_1.CacheNode(ChildrenNode_1.ChildrenNode.EMPTY_NODE, \n    /*fullyInitialized=*/ false, \n    /*filtered=*/ false));\n    return ViewCache;\n}());\nexports.ViewCache = ViewCache;\n\n//# sourceMappingURL=ViewCache.js.map\n"]}]