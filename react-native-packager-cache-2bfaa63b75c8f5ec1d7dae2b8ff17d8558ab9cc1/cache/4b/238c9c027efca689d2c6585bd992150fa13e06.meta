["df979da248dc1368f0dbc58c190a6c5713a54041","2aa526bfd4cfbe6ccd564cf4a8f49e09c0efc1bb",["@firebase/util","../../util/util","./Index","../ChildrenNode","../Node","../nodeFromJSON"],[638,678,720,761,802,843],{"version":3,"sources":["/home/giise/candidtwo/node_modules/@firebase/database/dist/cjs/src/core/snap/indexes/PathIndex.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","util_1","require","util_2","Index_1","ChildrenNode_1","Node_1","nodeFromJSON_1","PathIndex","_super","indexPath_","_this","call","assert","isEmpty","getFront","extractChild","snap","getChild","isDefinedOn","node","compare","a","aChild","bChild","indexCmp","compareTo","nameCompare","name","makePost","indexValue","valueNode","nodeFromJSON","ChildrenNode","EMPTY_NODE","updateChild","NamedNode","maxPost","MAX_NODE","MAX_NAME","toString","slice","join","Index"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@firebase/util\");\nvar util_2 = require(\"../../util/util\");\nvar Index_1 = require(\"./Index\");\nvar ChildrenNode_1 = require(\"../ChildrenNode\");\nvar Node_1 = require(\"../Node\");\nvar nodeFromJSON_1 = require(\"../nodeFromJSON\");\n/**\n * @param {!Path} indexPath\n * @constructor\n * @extends {Index}\n */\nvar PathIndex = /** @class */ (function (_super) {\n    __extends(PathIndex, _super);\n    function PathIndex(indexPath_) {\n        var _this = _super.call(this) || this;\n        _this.indexPath_ = indexPath_;\n        util_1.assert(!indexPath_.isEmpty() && indexPath_.getFront() !== '.priority', \"Can't create PathIndex with empty path or .priority key\");\n        return _this;\n    }\n    /**\n     * @param {!Node} snap\n     * @return {!Node}\n     * @protected\n     */\n    PathIndex.prototype.extractChild = function (snap) {\n        return snap.getChild(this.indexPath_);\n    };\n    /**\n     * @inheritDoc\n     */\n    PathIndex.prototype.isDefinedOn = function (node) {\n        return !node.getChild(this.indexPath_).isEmpty();\n    };\n    /**\n     * @inheritDoc\n     */\n    PathIndex.prototype.compare = function (a, b) {\n        var aChild = this.extractChild(a.node);\n        var bChild = this.extractChild(b.node);\n        var indexCmp = aChild.compareTo(bChild);\n        if (indexCmp === 0) {\n            return util_2.nameCompare(a.name, b.name);\n        }\n        else {\n            return indexCmp;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    PathIndex.prototype.makePost = function (indexValue, name) {\n        var valueNode = nodeFromJSON_1.nodeFromJSON(indexValue);\n        var node = ChildrenNode_1.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_, valueNode);\n        return new Node_1.NamedNode(name, node);\n    };\n    /**\n     * @inheritDoc\n     */\n    PathIndex.prototype.maxPost = function () {\n        var node = ChildrenNode_1.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_, ChildrenNode_1.MAX_NODE);\n        return new Node_1.NamedNode(util_2.MAX_NAME, node);\n    };\n    /**\n     * @inheritDoc\n     */\n    PathIndex.prototype.toString = function () {\n        return this.indexPath_.slice().join('/');\n    };\n    return PathIndex;\n}(Index_1.Index));\nexports.PathIndex = PathIndex;\n\n//# sourceMappingURL=PathIndex.js.map\n"]}]