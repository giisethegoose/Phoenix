["380813d58c31a82cf1694f9004a53356c3824282","b023220757b4852edebd17c0480490e38fcd6c98",["react","prop-types","react-native","./TabViewPropTypes","./TabViewPagerAndroid","./TabViewPagerScroll","./TabViewPagerPan"],[154,248,358,408,541,627,709],{"version":3,"sources":["/home/giise/candidtwo/node_modules/react-native-tab-view/src/TabViewAnimated.js"],"names":["React","TabViewPager","OS","require","default","TabViewAnimated","props","state","loaded","navigationState","index","layout","initialLayout","measured","position","Value","_mounted","_positionListener","addListener","_trackPosition","removeListener","onIndexChange","onPositionChange","canJumpToTab","lazy","renderScene","renderPager","renderHeader","renderFooter","rest","_buildSceneRendererProps","_handleLayout","styles","container","style","children","routes","map","route","_renderScene","focused","Component","propTypes","isRequired","func","shape","height","number","width","bool","defaultProps","_subscriptions","includes","indexOf","_handlePositionChange","value","next","Math","ceil","floor","setState","e","_triggerEvent","_lastPosition","_getLastPosition","nativeEvent","jumpToIndex","_jumpToIndex","getLastPosition","subscribe","_addSubscription","event","callback","push","remove","splice","forEach","fn","create","flex","overflow"],"mappings":";;;;;;;AAEA;;IAAYA,K;;AACZ;;;;AACA;;AACA;;AAoCA,IAAIC,qBAAJ;;AAEA,QAAQ,sBAASC,EAAjB;AACE,OAAK,SAAL;AACED,mBAAeE,QAAQ,uBAAR,EAAiCC,OAAhD;AACA;AACF,OAAK,KAAL;AACEH,mBAAeE,QAAQ,sBAAR,EAAgCC,OAA/C;AACA;AACF;AACEH,mBAAeE,QAAQ,mBAAR,EAA6BC,OAA5C;AACA;AATJ;;IAYqBC,e;;;AA4BnB,2BAAYC,KAAZ,EAA6B;AAAA;;AAAA,8IACrBA,KADqB;;AAAA;;AAG3B,UAAKC,KAAL,GAAa;AACXC,cAAQ,CAAC,MAAKF,KAAL,CAAWG,eAAX,CAA2BC,KAA5B,CADG;AAEXC,uCACK,MAAKL,KAAL,CAAWM,aADhB;AAEEC,kBAAU;AAFZ,QAFW;AAMXC,gBAAU,IAAI,sBAASC,KAAb,CAAmB,MAAKT,KAAL,CAAWG,eAAX,CAA2BC,KAA9C;AANC,KAAb;AAH2B;AAW5B;;;;wCAImB;AAClB,WAAKM,QAAL,GAAgB,IAAhB;AACA,WAAKC,iBAAL,GAAyB,KAAKV,KAAL,CAAWO,QAAX,CAAoBI,WAApB,CACvB,KAAKC,cADkB,CAAzB;AAGD;;;2CAEsB;AACrB,WAAKH,QAAL,GAAgB,KAAhB;AACA,WAAKT,KAAL,CAAWO,QAAX,CAAoBM,cAApB,CAAmC,KAAKH,iBAAxC;AACD;;;6BA4HQ;AAAA;;AAAA,mBAeH,KAAKX,KAfF;AAAA,UAGLG,eAHK,UAGLA,eAHK;AAAA,UAILY,aAJK,UAILA,aAJK;AAAA,UAKLC,gBALK,UAKLA,gBALK;AAAA,UAMLC,YANK,UAMLA,YANK;AAAA,UAOLC,IAPK,UAOLA,IAPK;AAAA,UAQLZ,aARK,UAQLA,aARK;AAAA,UASLa,WATK,UASLA,WATK;AAAA,UAWLC,WAXK,UAWLA,WAXK;AAAA,UAYLC,YAZK,UAYLA,YAZK;AAAA,UAaLC,YAbK,UAaLA,YAbK;AAAA,UAcFC,IAdE;;AAgBP,UAAMvB,QAAQ,KAAKwB,wBAAL,EAAd;;AAEA,aACE;AAAA;AAAA;AACE,oBAAU,KAAKC,aADjB;AAEE,kBAAQ,KAAKxB,KAAL,CAAWC,MAFrB;AAGE,iBAAO,CAACwB,OAAOC,SAAR,EAAmB,KAAK3B,KAAL,CAAW4B,KAA9B;AAHT;AAKGP,wBAAgBA,aAAarB,KAAb,CALnB;AAMGoB,6CACIpB,KADJ,EAEIuB,IAFJ;AAGCM,oBAAU1B,gBAAgB2B,MAAhB,CAAuBC,GAAvB,CAA2B,UAACC,KAAD,EAAQ5B,KAAR;AAAA,mBACnC,OAAK6B,YAAL,0BACKjC,KADL;AAEEgC,0BAFF;AAGE5B,0BAHF;AAIE8B,uBAAS9B,UAAUD,gBAAgBC;AAJrC,eADmC;AAAA,WAA3B;AAHX,WANH;AAkBGkB,wBAAgBA,aAAatB,KAAb;AAlBnB,OADF;AAsBD;;;EAzNuDN,MAAMyC,S,UAIvDC,S,GAAY;AACjBjC,mBAAiB,0CAAwBkC,UADxB;AAEjBtB,iBAAe,oBAAUuB,IAAV,CAAeD,UAFb;AAGjBrB,oBAAkB,oBAAUsB,IAHX;AAIjBhC,iBAAe,oBAAUiC,KAAV,CAAgB;AAC7BC,YAAQ,oBAAUC,MAAV,CAAiBJ,UADI;AAE7BK,WAAO,oBAAUD,MAAV,CAAiBJ;AAFK,GAAhB,CAJE;AAQjBpB,gBAAc,oBAAUqB,IARP;AASjBlB,eAAa,oBAAUkB,IAAV,CAAeD,UATX;AAUjBlB,eAAa,oBAAUmB,IAAV,CAAeD,UAVX;AAWjBhB,gBAAc,oBAAUiB,IAXP;AAYjBhB,gBAAc,oBAAUgB,IAZP;AAajBpB,QAAM,oBAAUyB;AAbC,C,SAgBZC,Y,GAAe;AACpBxB,eAAa,qBAACpB,KAAD;AAAA,WAAkC,oBAAC,YAAD,EAAkBA,KAAlB,CAAlC;AAAA,GADO;AAEpBM,iBAAe;AACbkC,YAAQ,CADK;AAEbE,WAAO;AAFM;AAFK,C;;;OAmCtBhC,Q,GAAoB,K;OAIpBmC,c,GAA+D,E;;OAE/DZ,Y,GAAe,UAACjC,KAAD,EAA6C;AAAA,kBAC5B,OAAKA,KADuB;AAAA,QAClDmB,WADkD,WAClDA,WADkD;AAAA,QACrCD,IADqC,WACrCA,IADqC;AAAA,QAElDf,eAFkD,GAE9BH,KAF8B,CAElDG,eAFkD;AAAA,QAGlDD,MAHkD,GAGvC,OAAKD,KAHkC,CAGlDC,MAHkD;;AAI1D,QAAIgB,IAAJ,EAAU;AACR,UAAIhB,OAAO4C,QAAP,CAAgB3C,gBAAgB2B,MAAhB,CAAuBiB,OAAvB,CAA+B/C,MAAMgC,KAArC,CAAhB,CAAJ,EAAkE;AAChE,eAAOb,YAAYnB,KAAZ,CAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,WAAOmB,YAAYnB,KAAZ,CAAP;AACD,G;;OAEDgD,qB,GAAwB,UAACC,KAAD,EAAmB;AAAA,kBACW,OAAKjD,KADhB;AAAA,QACjCgB,gBADiC,WACjCA,gBADiC;AAAA,QACfb,eADe,WACfA,eADe;AAAA,QACEe,IADF,WACEA,IADF;;AAEzC,QAAIF,gBAAJ,EAAsB;AACpBA,uBAAiB,EAAEiC,YAAF,EAAjB;AACD;AAJwC,QAKjC/C,MALiC,GAKtB,OAAKD,KALiB,CAKjCC,MALiC;;AAMzC,QAAIgB,IAAJ,EAAU;AACR,UAAIgC,OAAOC,KAAKC,IAAL,CAAUH,KAAV,CAAX;AACA,UAAIC,SAAS/C,gBAAgBC,KAA7B,EAAoC;AAClC8C,eAAOC,KAAKE,KAAL,CAAWJ,KAAX,CAAP;AACD;AACD,UAAI/C,OAAO4C,QAAP,CAAgBI,IAAhB,CAAJ,EAA2B;AACzB;AACD;AACD,aAAKI,QAAL,CAAc;AACZpD,yDAAYA,MAAZ,IAAoBgD,IAApB;AADY,OAAd;AAGD;AACF,G;;OAEDrC,c,GAAiB,UAAC0C,CAAD,EAA0B;AACzC,WAAKP,qBAAL,CAA2BO,EAAEN,KAA7B;AACA,WAAKO,aAAL,CAAmB,UAAnB,EAA+BD,EAAEN,KAAjC;AACA,WAAKQ,aAAL,GAAqBF,EAAEN,KAAvB;AACD,G;;OAEDS,gB,GAAmB,YAAM;AACvB,QAAI,OAAO,OAAKD,aAAZ,KAA8B,QAAlC,EAA4C;AAC1C,aAAO,OAAKA,aAAZ;AACD,KAFD,MAEO;AACL,aAAO,OAAKzD,KAAL,CAAWG,eAAX,CAA2BC,KAAlC;AACD;AACF,G;;OAEDqB,a,GAAgB,UAAC8B,CAAD,EAAY;AAAA,gCACAA,EAAEI,WAAF,CAActD,MADd;AAAA,QAClBmC,MADkB,yBAClBA,MADkB;AAAA,QACVE,KADU,yBACVA,KADU;;;AAG1B,QACE,OAAKzC,KAAL,CAAWI,MAAX,CAAkBqC,KAAlB,KAA4BA,KAA5B,IACA,OAAKzC,KAAL,CAAWI,MAAX,CAAkBmC,MAAlB,KAA6BA,MAF/B,EAGE;AACA;AACD;;AAED,WAAKc,QAAL,CAAc;AACZjD,cAAQ;AACNE,kBAAU,IADJ;AAENiC,sBAFM;AAGNE;AAHM;AADI,KAAd;AAOD,G;;OAEDlB,wB,GAA2B,YAA6B;AACtD,WAAO;AACLnB,cAAQ,OAAKJ,KAAL,CAAWI,MADd;AAELF,uBAAiB,OAAKH,KAAL,CAAWG,eAFvB;AAGLK,gBAAU,OAAKP,KAAL,CAAWO,QAHhB;AAILoD,mBAAa,OAAKC,YAJb;AAKLC,uBAAiB,OAAKJ,gBALjB;AAMLK,iBAAW,OAAKC;AANX,KAAP;AAQD,G;;OAEDH,Y,GAAe,UAACzD,KAAD,EAAmB;AAChC,QAAI,CAAC,OAAKM,QAAV,EAAoB;AAElB;AACD;;AAJ+B,kBAMU,OAAKV,KANf;AAAA,QAMxBiB,YANwB,WAMxBA,YANwB;AAAA,QAMVd,eANU,WAMVA,eANU;;;AAQhC,QAAIc,gBAAgB,CAACA,aAAad,gBAAgB2B,MAAhB,CAAuB1B,KAAvB,CAAb,CAArB,EAAkE;AAChE,aAAKoD,aAAL,CAAmB,OAAnB,EAA4BrD,gBAAgBC,KAA5C;AACA;AACD;;AAED,QAAIA,UAAUD,gBAAgBC,KAA9B,EAAqC;AACnC,aAAKJ,KAAL,CAAWe,aAAX,CAAyBX,KAAzB;AACD;AACF,G;;OAED4D,gB,GAAmB,UAACC,KAAD,EAA0BC,QAA1B,EAAiD;AAClE,QAAI,CAAC,OAAKrB,cAAL,CAAoBoB,KAApB,CAAL,EAAiC;AAC/B,aAAKpB,cAAL,CAAoBoB,KAApB,IAA6B,EAA7B;AACD;AACD,WAAKpB,cAAL,CAAoBoB,KAApB,EAA2BE,IAA3B,CAAgCD,QAAhC;AACA,WAAO;AACLE,cAAQ,kBAAM;AACZ,YAAMhE,QAAQ,OAAKyC,cAAL,CAAoBoB,KAApB,EAA2BlB,OAA3B,CAAmCmB,QAAnC,CAAd;AACA,YAAI9D,QAAQ,CAAC,CAAb,EAAgB;AACd,iBAAKyC,cAAL,CAAoBoB,KAApB,EAA2BI,MAA3B,CAAkCjE,KAAlC,EAAyC,CAAzC;AACD;AACF;AANI,KAAP;AAQD,G;;OAEDoD,a,GAAgB,UAACS,KAAD,EAA0BhB,KAA1B,EAAyC;AACvD,QAAI,OAAKJ,cAAL,CAAoBoB,KAApB,CAAJ,EAAgC;AAC9B,aAAKpB,cAAL,CAAoBoB,KAApB,EAA2BK,OAA3B,CAAmC;AAAA,eAAMC,GAAGtB,KAAH,CAAN;AAAA,OAAnC;AACD;AACF,G;;kBA/KkBlD,e;;;AA4NrB,IAAM2B,SAAS,wBAAW8C,MAAX,CAAkB;AAC/B7C,aAAW;AACT8C,UAAM,CADG;AAETC,cAAU;AAFD;AADoB,CAAlB,CAAf","sourcesContent":["/* @flow */\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, Platform, View, StyleSheet } from 'react-native';\nimport { NavigationStatePropType } from './TabViewPropTypes';\nimport type {\n  Scene,\n  SceneRendererProps,\n  NavigationState,\n  Layout,\n  Route,\n  SubscriptionName,\n  PagerProps,\n  Style,\n} from './TabViewTypeDefinitions';\n\ntype Props<T> = PagerProps & {\n  navigationState: NavigationState<T>,\n  onIndexChange: (index: number) => void,\n  onPositionChange?: ({ value: number }) => void,\n  initialLayout?: Layout,\n  canJumpToTab?: (route: T) => boolean,\n  renderPager: (\n    props: SceneRendererProps<T> & PagerProps\n  ) => React.Element<any>,\n  renderScene: (props: SceneRendererProps<T> & Scene<T>) => ?React.Element<any>,\n  renderHeader?: (props: SceneRendererProps<T>) => ?React.Element<any>,\n  renderFooter?: (props: SceneRendererProps<T>) => ?React.Element<any>,\n  lazy?: boolean,\n  style?: Style,\n};\n\ntype State = {\n  loaded: Array<number>,\n  layout: Layout & {\n    measured: boolean,\n  },\n  position: Animated.Value,\n};\n\nlet TabViewPager;\n\nswitch (Platform.OS) {\n  case 'android':\n    TabViewPager = require('./TabViewPagerAndroid').default;\n    break;\n  case 'ios':\n    TabViewPager = require('./TabViewPagerScroll').default;\n    break;\n  default:\n    TabViewPager = require('./TabViewPagerPan').default;\n    break;\n}\n\nexport default class TabViewAnimated<T: Route<*>> extends React.Component<\n  Props<T>,\n  State\n> {\n  static propTypes = {\n    navigationState: NavigationStatePropType.isRequired,\n    onIndexChange: PropTypes.func.isRequired,\n    onPositionChange: PropTypes.func,\n    initialLayout: PropTypes.shape({\n      height: PropTypes.number.isRequired,\n      width: PropTypes.number.isRequired,\n    }),\n    canJumpToTab: PropTypes.func,\n    renderPager: PropTypes.func.isRequired,\n    renderScene: PropTypes.func.isRequired,\n    renderHeader: PropTypes.func,\n    renderFooter: PropTypes.func,\n    lazy: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    renderPager: (props: SceneRendererProps<*>) => <TabViewPager {...props} />,\n    initialLayout: {\n      height: 0,\n      width: 0,\n    },\n  };\n\n  constructor(props: Props<T>) {\n    super(props);\n\n    this.state = {\n      loaded: [this.props.navigationState.index],\n      layout: {\n        ...this.props.initialLayout,\n        measured: false,\n      },\n      position: new Animated.Value(this.props.navigationState.index),\n    };\n  }\n\n  state: State;\n\n  componentDidMount() {\n    this._mounted = true;\n    this._positionListener = this.state.position.addListener(\n      this._trackPosition\n    );\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    this.state.position.removeListener(this._positionListener);\n  }\n\n  _mounted: boolean = false;\n  _nextIndex: ?number;\n  _lastPosition: ?number;\n  _positionListener: string;\n  _subscriptions: { [key: SubscriptionName]: Array<Function> } = {};\n\n  _renderScene = (props: SceneRendererProps<T> & Scene<T>) => {\n    const { renderScene, lazy } = this.props;\n    const { navigationState } = props;\n    const { loaded } = this.state;\n    if (lazy) {\n      if (loaded.includes(navigationState.routes.indexOf(props.route))) {\n        return renderScene(props);\n      }\n      return null;\n    }\n    return renderScene(props);\n  };\n\n  _handlePositionChange = (value: number) => {\n    const { onPositionChange, navigationState, lazy } = this.props;\n    if (onPositionChange) {\n      onPositionChange({ value });\n    }\n    const { loaded } = this.state;\n    if (lazy) {\n      let next = Math.ceil(value);\n      if (next === navigationState.index) {\n        next = Math.floor(value);\n      }\n      if (loaded.includes(next)) {\n        return;\n      }\n      this.setState({\n        loaded: [...loaded, next],\n      });\n    }\n  };\n\n  _trackPosition = (e: { value: number }) => {\n    this._handlePositionChange(e.value);\n    this._triggerEvent('position', e.value);\n    this._lastPosition = e.value;\n  };\n\n  _getLastPosition = () => {\n    if (typeof this._lastPosition === 'number') {\n      return this._lastPosition;\n    } else {\n      return this.props.navigationState.index;\n    }\n  };\n\n  _handleLayout = (e: any) => {\n    const { height, width } = e.nativeEvent.layout;\n\n    if (\n      this.state.layout.width === width &&\n      this.state.layout.height === height\n    ) {\n      return;\n    }\n\n    this.setState({\n      layout: {\n        measured: true,\n        height,\n        width,\n      },\n    });\n  };\n\n  _buildSceneRendererProps = (): SceneRendererProps<*> => {\n    return {\n      layout: this.state.layout,\n      navigationState: this.props.navigationState,\n      position: this.state.position,\n      jumpToIndex: this._jumpToIndex,\n      getLastPosition: this._getLastPosition,\n      subscribe: this._addSubscription,\n    };\n  };\n\n  _jumpToIndex = (index: number) => {\n    if (!this._mounted) {\n      // We are no longer mounted, this is a no-op\n      return;\n    }\n\n    const { canJumpToTab, navigationState } = this.props;\n\n    if (canJumpToTab && !canJumpToTab(navigationState.routes[index])) {\n      this._triggerEvent('reset', navigationState.index);\n      return;\n    }\n\n    if (index !== navigationState.index) {\n      this.props.onIndexChange(index);\n    }\n  };\n\n  _addSubscription = (event: SubscriptionName, callback: Function) => {\n    if (!this._subscriptions[event]) {\n      this._subscriptions[event] = [];\n    }\n    this._subscriptions[event].push(callback);\n    return {\n      remove: () => {\n        const index = this._subscriptions[event].indexOf(callback);\n        if (index > -1) {\n          this._subscriptions[event].splice(index, 1);\n        }\n      },\n    };\n  };\n\n  _triggerEvent = (event: SubscriptionName, value: any) => {\n    if (this._subscriptions[event]) {\n      this._subscriptions[event].forEach(fn => fn(value));\n    }\n  };\n\n  render() {\n    const {\n      /* eslint-disable no-unused-vars */\n      navigationState,\n      onIndexChange,\n      onPositionChange,\n      canJumpToTab,\n      lazy,\n      initialLayout,\n      renderScene,\n      /* eslint-enable no-unused-vars */\n      renderPager,\n      renderHeader,\n      renderFooter,\n      ...rest\n    } = this.props;\n    const props = this._buildSceneRendererProps();\n\n    return (\n      <View\n        onLayout={this._handleLayout}\n        loaded={this.state.loaded}\n        style={[styles.container, this.props.style]}\n      >\n        {renderHeader && renderHeader(props)}\n        {renderPager({\n          ...props,\n          ...rest,\n          children: navigationState.routes.map((route, index) =>\n            this._renderScene({\n              ...props,\n              route,\n              index,\n              focused: index === navigationState.index,\n            })\n          ),\n        })}\n        {renderFooter && renderFooter(props)}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    overflow: 'hidden',\n  },\n});\n"]}]