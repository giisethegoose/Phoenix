["13ca7fb0ab32e4511818e2fab782e7a037ce61eb","9754521c1f4f74185c5d8d972f31e122bbd8d713",["@firebase/util","../core/util/validation","../core/util/util"],[99,145,194,237],{"version":3,"sources":["/home/giise/candidtwo/node_modules/@firebase/database/dist/cjs/src/api/onDisconnect.js"],"names":["Object","defineProperty","exports","value","util_1","require","validation_1","util_2","util_3","OnDisconnect","repo_","path_","prototype","cancel","onComplete","validateArgCount","arguments","length","validateCallback","deferred","Deferred","onDisconnectCancel","wrapCallback","promise","remove","validateWritablePath","onDisconnectSet","set","validateFirebaseDataArg","setWithPriority","priority","validatePriority","onDisconnectSetWithPriority","update","objectToMerge","Array","isArray","newObjectToMerge","i","warn","validateFirebaseMergeDataArg","onDisconnectUpdate"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@firebase/util\");\nvar validation_1 = require(\"../core/util/validation\");\nvar util_2 = require(\"../core/util/util\");\nvar util_3 = require(\"@firebase/util\");\n/**\n * @constructor\n */\nvar OnDisconnect = /** @class */ (function () {\n    /**\n     * @param {!Repo} repo_\n     * @param {!Path} path_\n     */\n    function OnDisconnect(repo_, path_) {\n        this.repo_ = repo_;\n        this.path_ = path_;\n    }\n    /**\n     * @param {function(?Error)=} onComplete\n     * @return {!firebase.Promise}\n     */\n    OnDisconnect.prototype.cancel = function (onComplete) {\n        util_1.validateArgCount('OnDisconnect.cancel', 0, 1, arguments.length);\n        util_1.validateCallback('OnDisconnect.cancel', 1, onComplete, true);\n        var deferred = new util_3.Deferred();\n        this.repo_.onDisconnectCancel(this.path_, deferred.wrapCallback(onComplete));\n        return deferred.promise;\n    };\n    /**\n     * @param {function(?Error)=} onComplete\n     * @return {!firebase.Promise}\n     */\n    OnDisconnect.prototype.remove = function (onComplete) {\n        util_1.validateArgCount('OnDisconnect.remove', 0, 1, arguments.length);\n        validation_1.validateWritablePath('OnDisconnect.remove', this.path_);\n        util_1.validateCallback('OnDisconnect.remove', 1, onComplete, true);\n        var deferred = new util_3.Deferred();\n        this.repo_.onDisconnectSet(this.path_, null, deferred.wrapCallback(onComplete));\n        return deferred.promise;\n    };\n    /**\n     * @param {*} value\n     * @param {function(?Error)=} onComplete\n     * @return {!firebase.Promise}\n     */\n    OnDisconnect.prototype.set = function (value, onComplete) {\n        util_1.validateArgCount('OnDisconnect.set', 1, 2, arguments.length);\n        validation_1.validateWritablePath('OnDisconnect.set', this.path_);\n        validation_1.validateFirebaseDataArg('OnDisconnect.set', 1, value, this.path_, false);\n        util_1.validateCallback('OnDisconnect.set', 2, onComplete, true);\n        var deferred = new util_3.Deferred();\n        this.repo_.onDisconnectSet(this.path_, value, deferred.wrapCallback(onComplete));\n        return deferred.promise;\n    };\n    /**\n     * @param {*} value\n     * @param {number|string|null} priority\n     * @param {function(?Error)=} onComplete\n     * @return {!firebase.Promise}\n     */\n    OnDisconnect.prototype.setWithPriority = function (value, priority, onComplete) {\n        util_1.validateArgCount('OnDisconnect.setWithPriority', 2, 3, arguments.length);\n        validation_1.validateWritablePath('OnDisconnect.setWithPriority', this.path_);\n        validation_1.validateFirebaseDataArg('OnDisconnect.setWithPriority', 1, value, this.path_, false);\n        validation_1.validatePriority('OnDisconnect.setWithPriority', 2, priority, false);\n        util_1.validateCallback('OnDisconnect.setWithPriority', 3, onComplete, true);\n        var deferred = new util_3.Deferred();\n        this.repo_.onDisconnectSetWithPriority(this.path_, value, priority, deferred.wrapCallback(onComplete));\n        return deferred.promise;\n    };\n    /**\n     * @param {!Object} objectToMerge\n     * @param {function(?Error)=} onComplete\n     * @return {!firebase.Promise}\n     */\n    OnDisconnect.prototype.update = function (objectToMerge, onComplete) {\n        util_1.validateArgCount('OnDisconnect.update', 1, 2, arguments.length);\n        validation_1.validateWritablePath('OnDisconnect.update', this.path_);\n        if (Array.isArray(objectToMerge)) {\n            var newObjectToMerge = {};\n            for (var i = 0; i < objectToMerge.length; ++i) {\n                newObjectToMerge['' + i] = objectToMerge[i];\n            }\n            objectToMerge = newObjectToMerge;\n            util_2.warn('Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the ' +\n                'existing data, or an Object with integer keys if you really do want to only update some of the children.');\n        }\n        validation_1.validateFirebaseMergeDataArg('OnDisconnect.update', 1, objectToMerge, this.path_, false);\n        util_1.validateCallback('OnDisconnect.update', 2, onComplete, true);\n        var deferred = new util_3.Deferred();\n        this.repo_.onDisconnectUpdate(this.path_, objectToMerge, deferred.wrapCallback(onComplete));\n        return deferred.promise;\n    };\n    return OnDisconnect;\n}());\nexports.OnDisconnect = OnDisconnect;\n\n//# sourceMappingURL=onDisconnect.js.map\n"]}]