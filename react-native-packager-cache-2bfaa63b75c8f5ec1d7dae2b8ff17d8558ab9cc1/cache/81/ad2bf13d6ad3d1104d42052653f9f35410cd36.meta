["258c4884f9688d08c170c03231ecdb9917aeabcf","5e0c078acff5772959260fb1833b6e710bcf273c",["@firebase/util","./EventEmitter"],[638,686,726],{"version":3,"sources":["/home/giise/candidtwo/node_modules/@firebase/database/dist/cjs/src/core/util/OnlineMonitor.js"],"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","util_1","require","EventEmitter_1","util_2","OnlineMonitor","_super","_this","call","online_","window","addEventListener","isMobileCordova","trigger","getInstance","getInitialEvent","eventType","assert","currentlyOnline","EventEmitter"],"mappings":"AAAA;;AAgBA,IAAIA,YAAa,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,QAAIC,gBAAgBC,OAAOC,cAAP,IACf,EAAEC,WAAW,EAAb,cAA6BC,KAA7B,IAAsC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAAED,UAAEF,SAAF,GAAcG,CAAd;AAAkB,KAD3D,IAEhB,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,aAAK,IAAIC,CAAT,IAAcD,CAAd;AAAiB,gBAAIA,EAAEE,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBF,EAAEE,CAAF,IAAOD,EAAEC,CAAF,CAAP;AAA1C;AAAwD,KAF9E;AAGA,WAAO,UAAUF,CAAV,EAAaC,CAAb,EAAgB;AACnBN,sBAAcK,CAAd,EAAiBC,CAAjB;AACA,iBAASG,EAAT,GAAc;AAAE,iBAAKC,WAAL,GAAmBL,CAAnB;AAAuB;AACvCA,UAAEM,SAAF,GAAcL,MAAM,IAAN,GAAaL,OAAOW,MAAP,CAAcN,CAAd,CAAb,IAAiCG,GAAGE,SAAH,GAAeL,EAAEK,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACH,KAJD;AAKH,CAT2C,EAA5C;AAUAR,OAAOY,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAIC,SAASC,OAAT,kBAAJ;AACA,IAAIC,iBAAiBD,QAAQ,gBAAR,CAArB;AACA,IAAIE,SAASF,OAAT,kBAAJ;;AAUA,IAAIG,gBAA+B,UAAUC,MAAV,EAAkB;AACjDtB,cAAUqB,aAAV,EAAyBC,MAAzB;AACA,aAASD,aAAT,GAAyB;AACrB,YAAIE,QAAQD,OAAOE,IAAP,CAAY,IAAZ,EAAkB,CAAC,QAAD,CAAlB,KAAiC,IAA7C;AACAD,cAAME,OAAN,GAAgB,IAAhB;;AAKA,YAAI,OAAOC,MAAP,KAAkB,WAAlB,IACA,OAAOA,OAAOC,gBAAd,KAAmC,WADnC,IAEA,CAACP,OAAOQ,eAAP,EAFL,EAE+B;AAC3BF,mBAAOC,gBAAP,CAAwB,QAAxB,EAAkC,YAAY;AAC1C,oBAAI,CAACJ,MAAME,OAAX,EAAoB;AAChBF,0BAAME,OAAN,GAAgB,IAAhB;AACAF,0BAAMM,OAAN,CAAc,QAAd,EAAwB,IAAxB;AACH;AACJ,aALD,EAKG,KALH;AAMAH,mBAAOC,gBAAP,CAAwB,SAAxB,EAAmC,YAAY;AAC3C,oBAAIJ,MAAME,OAAV,EAAmB;AACfF,0BAAME,OAAN,GAAgB,KAAhB;AACAF,0BAAMM,OAAN,CAAc,QAAd,EAAwB,KAAxB;AACH;AACJ,aALD,EAKG,KALH;AAMH;AACD,eAAON,KAAP;AACH;AACDF,kBAAcS,WAAd,GAA4B,YAAY;AACpC,eAAO,IAAIT,aAAJ,EAAP;AACH,KAFD;;AAOAA,kBAAcT,SAAd,CAAwBmB,eAAxB,GAA0C,UAAUC,SAAV,EAAqB;AAC3Df,eAAOgB,MAAP,CAAcD,cAAc,QAA5B,EAAsC,yBAAyBA,SAA/D;AACA,eAAO,CAAC,KAAKP,OAAN,CAAP;AACH,KAHD;;AAOAJ,kBAAcT,SAAd,CAAwBsB,eAAxB,GAA0C,YAAY;AAClD,eAAO,KAAKT,OAAZ;AACH,KAFD;AAGA,WAAOJ,aAAP;AACH,CA7CkC,CA6CjCF,eAAegB,YA7CkB,CAAnC;AA8CApB,QAAQM,aAAR,GAAwBA,aAAxB","sourcesContent":["\"use strict\";\n/**\n * Copyright 2017 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"@firebase/util\");\nvar EventEmitter_1 = require(\"./EventEmitter\");\nvar util_2 = require(\"@firebase/util\");\n/**\n * Monitors online state (as reported by window.online/offline events).\n *\n * The expectation is that this could have many false positives (thinks we are online\n * when we're not), but no false negatives.  So we can safely use it to determine when\n * we definitely cannot reach the internet.\n *\n * @extends {EventEmitter}\n */\nvar OnlineMonitor = /** @class */ (function (_super) {\n    __extends(OnlineMonitor, _super);\n    function OnlineMonitor() {\n        var _this = _super.call(this, ['online']) || this;\n        _this.online_ = true;\n        // We've had repeated complaints that Cordova apps can get stuck \"offline\", e.g.\n        // https://forum.ionicframework.com/t/firebase-connection-is-lost-and-never-come-back/43810\n        // It would seem that the 'online' event does not always fire consistently. So we disable it\n        // for Cordova.\n        if (typeof window !== 'undefined' &&\n            typeof window.addEventListener !== 'undefined' &&\n            !util_2.isMobileCordova()) {\n            window.addEventListener('online', function () {\n                if (!_this.online_) {\n                    _this.online_ = true;\n                    _this.trigger('online', true);\n                }\n            }, false);\n            window.addEventListener('offline', function () {\n                if (_this.online_) {\n                    _this.online_ = false;\n                    _this.trigger('online', false);\n                }\n            }, false);\n        }\n        return _this;\n    }\n    OnlineMonitor.getInstance = function () {\n        return new OnlineMonitor();\n    };\n    /**\n     * @param {!string} eventType\n     * @return {Array.<boolean>}\n     */\n    OnlineMonitor.prototype.getInitialEvent = function (eventType) {\n        util_1.assert(eventType === 'online', 'Unknown event type: ' + eventType);\n        return [this.online_];\n    };\n    /**\n     * @return {boolean}\n     */\n    OnlineMonitor.prototype.currentlyOnline = function () {\n        return this.online_;\n    };\n    return OnlineMonitor;\n}(EventEmitter_1.EventEmitter));\nexports.OnlineMonitor = OnlineMonitor;\n\n//# sourceMappingURL=OnlineMonitor.js.map\n"]}]